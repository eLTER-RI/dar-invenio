import React from "react";
import ReactDOM from "react-dom";

import {ActionMenu} from "./ActionMenu";

const actionMenu = document.getElementById("action-menu");
const recordRawString = actionMenu.getAttribute('record-info');
let recordJsonString = recordRawString.replace(/\\u0027/g, "\"").slice(1, -1);
recordJsonString = recordRawString.replace(/\\u0027/g, "\"").slice(1, -1);
const record = JSON.parse('{"$schema": "local://lter-1.0.0.json", "id": "4t9n1-dhz54", "created": "Nov 6, 2024, 3:13:15\\\u202fPM", "updated": "Nov 6, 2024, 3:13:15\\\u202fPM", "links": {"applicable-requests": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/draft/requests/applicable", "communities": {"88e58b7a-1fe8-4886-bb59-17b3993c8157": {"self": "https://127.0.0.1:5000/api/communities/88e58b7a-1fe8-4886-bb59-17b3993c8157", "self_html": "https://127.0.0.1:5000/communities/test/records"}}, "draft": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/draft", "edit_html": "https://127.0.0.1:5000/lter/4t9n1-dhz54/edit", "files": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/draft/files", "latest": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/versions/latest", "latest_html": "https://127.0.0.1:5000/lter/4t9n1-dhz54/latest", "publish": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/draft/actions/publish", "record": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54", "requests": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/draft/requests", "self": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/draft", "self_html": "https://127.0.0.1:5000/lter/4t9n1-dhz54/preview", "versions": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/versions", "ui_links": {"self": "https://127.0.0.1:5000/lter//4t9n1-dhz54", "edit": "https://127.0.0.1:5000/lter//4t9n1-dhz54/edit", "search": "https://127.0.0.1:5000/lter//"}, "export_path": "/lter/4t9n1-dhz54/preview/export", "search_link": "/lter/"}, "revision_id": 3, "expanded": {"requests": [], "request_types": [{"type_id": "publish_draft", "links": {"actions": {"create": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/draft/requests/publish_draft"}}, "description": l"Request publishing of a draft", "name": l"Publish draft", "dangerous": False, "editable": False, "has_form": True, "stateful_name": l"Submit for review", "stateful_description": l"By submitting the draft for review you are requesting the publication of the draft. The draft will become locked and no further changes will be possible until the request is accepted or declined. You will be notified about the decision by email."}, {"type_id": "run_external_workflow", "links": {"actions": {"create": "https://127.0.0.1:5000/api/lter/4t9n1-dhz54/draft/requests/run_external_workflow"}}, "description": l"Request running external workflow on a record", "name": l"Run external workflow", "dangerous": False, "editable": False, "has_form": False, "stateful_name": l"Run external workflow", "stateful_description": l"Request running external workflow on a record"}]}, "externalWorkflow": {"defaultWorkflowTemplateId": "basic-ingest"}, "metadata": {"SOReference": {"name": "Standard observation2", "url": "https://googlee.com"}, "additionalMetadata": [{"name": "Metadata name", "value": "Random value"}], "authors": [{"email": "randomEmail@gmail.com", "familyName": "Name2", "fullName": "GivenName MiddleName FamilyName", "givenName": "Name1", "ids": [{"id": "12345", "schema": "Orcid", "url": "www.google.com"}]}], "contributors": [{"email": "randomEmail@gmail.com", "familyName": "Name2", "fullName": "GivenName MiddleName FamilyName", "givenName": "Name1", "ids": [{"id": "12345", "schema": "Orcid", "url": "www.google.com"}], "type": "MetadataProvider"}], "dataLevel": 2, "datasetIds": [{"identifier": "id", "sourceName": "b2share", "type": "PID", "url": "https://b2share.com"}], "descriptions": [{"description": "This is abstract", "language": "eng", "type": "Abstract"}, {"description": "Some additional info", "language": "eng", "type": "AdditionalInfo"}], "ecosystem": {"PID": "PID", "name": "name"}, "files": [{"format": "csw", "md5": "haha", "name": "File", "size": "22", "sourceUrl": "www.google.com"}], "geoLocations": [{"EX_GeographicDescription": "This is point", "Point": {"latitude": 10.5, "longitude": 10.5}}, {"EX_GeographicBoundingBox": {"eastBoundLongitude": 10.5, "northBoundLatitude": 10.5, "southBoundLatitude": 9.5, "westBoundLongitude": 9.5}, "EX_GeographicDescription": "This is box"}, {"EX_BoundingPolygon": [{"inPolygonPoint": {"latitude": 13.5, "longitude": 13.5}, "points": [{"latitude": 10.5, "longitude": 10.5}, {"latitude": 15.5, "longitude": 15.5}, {"latitude": 11.5, "longitude": 12.5}, {"latitude": 17.5, "longitude": 17.5}]}], "EX_GeographicDescription": "This is polygon"}], "geoServerInfo": {"mapData": [{"bytetype": False, "epsgCode": 32635, "features": {"label": "Braila - Hydroperiod (2020 - 2021)", "name": "eshape:braila_hydroperiod_2020_2021", "style": {"colour": "#000000"}}, "path": "https://elter.datalabs.ceh.ac.uk/geoserver/ows?version=1.3.0", "type": "POLYGON"}], "serviceType": "WMS"}, "keywords": [{"name": "Keyword1", "url": "www.google.com"}, {"name": "Keyword2", "url": "www.google.com"}], "language": "english", "licenses": [{"name": "name of the license", "url": "www.google.com"}], "methods": {"PID": \\"DOI - link to "wiki - instruction manual\\", "instrumentationDescription": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere urna ligula. Praesent mattis, urna eget iaculis maximus, sem tellus. ", "qualityControlDescription": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer feugiat viverra metus eget viverra. Nullam pharetra arcu pulvinar, accumsan sem. ", "sampling": {"samplingDescription": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam quis lacus suscipit, sollicitudin dui eget, pretium augue. Duis eget suscipit mauris. Morbi aliquet lacus a fermentum posuere. Cras neque elit, efficitur quis leo quis, elementum fermentum sem. Quisque est eros, malesuada et neque eu, suscipit mattis sem. Etiam consequat lorem.", "studyDescription": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec imperdiet ligula tellus, sit amet iaculis urna viverra vitae. Etiam tincidunt elit nisl, sagittis facilisis nisi tincidunt eu. Suspendisse potenti. Pellentesque tellus ligula, tincidunt quis gravida nec, vulputate et nisi. Donec pulvinar a lectus et tempus. Class aptent taciti sociosqu ad. "}, "steps": [{"description": "Description of the step", "title": "Title of the step"}]}, "project": {"PID": "id of the project", "name": "elter"}, "propertyRights": [{"name": "name of the license", "url": "www.google.com"}], "publicationDate": "Feb 24, 1999", "shortNames": [{"language": "eng", "text": "Token test"}], "siteReference": [{"PID": "48660128-e478-42a4-91f8-b83a8735ba50", "name": "Arctic-alpine tundra - Czechia"}], "taxonomicCoverages": [{"classification": {"id": "taxon_MAPY", "commonName": "Giant Kelp", "rankName": "species", "rankValue": "Macrocystis pyrifera"}, "description": "description"}], "temporalCoverages": [{"endDate": "Feb 24, 1999", "startDate": "Feb 24, 1999"}], "temporalResolution": 150, "titles": [{"language": "eng", "text": "Token test"}]}, "state": "draft"}')

console.log(recordJsonString)

ReactDOM.render(
    <ActionMenu
        record={record}
    />, actionMenu
);
